<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [deepamehta-devel] [Bug #14438] CM corrupted in RC4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/deepamehta-devel/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:deepamehta-devel%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-devel%5D%20%5BBug%20%2314438%5D%20CM%20corrupted%20in%20RC4&In-Reply-To=%3C200809031557.m83FvNv4026592%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000252.html">
   <LINK REL="Next"  HREF="000255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[deepamehta-devel] [Bug #14438] CM corrupted in RC4</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:deepamehta-devel%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-devel%5D%20%5BBug%20%2314438%5D%20CM%20corrupted%20in%20RC4&In-Reply-To=%3C200809031557.m83FvNv4026592%40unicorn.berlios.de%3E"
       TITLE="[deepamehta-devel] [Bug #14438] CM corrupted in RC4">admin at berlios.de
       </A><BR>
    <I>Wed Sep  3 17:57:23 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000252.html">[deepamehta-devel] Forum-Probleme mit Tomcat 6
</A></li>
        <LI>Next message: <A HREF="000255.html">[deepamehta-devel] [Feature #1513] Logging Subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#253">[ date ]</a>
              <a href="thread.html#253">[ thread ]</a>
              <a href="subject.html#253">[ subject ]</a>
              <a href="author.html#253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #14438, was updated on 2008-Sep-01 19:10
Here is a current snapshot of the bug.

Project: DeepaMehta
Category: Storage Layer
Status: Open
Resolution: None
Bug Group: None
Priority: 7
Submitted by: x28
Assigned to : jri
Summary: CM corrupted in RC4

Details: I experienced a similar severe error as #13628 fixed in RC4: 
After I erroneously pasted text into the NAME field rather than into the description field, this text was duplicated into ALL name fields, description fields, and obviously also into workspace properties, leading to the error message &quot;There are 3 default workspaces, only tt-workspace-1 &quot;administration&quot; is considered&quot;.
The offending text contained CGI URLs, double quotes  and TWO single apostrophes. The text was truncated at the second single apostrophe and concluded by a backslash.
(Although I have come to install separate instances for each group of maps --much like one ppt deck for several mindmapping slides-- I lost several hours of work. And since &quot;1 Unglueck kommt selten allein&quot;, I deleted the geometry of the recovered map by hitting Delete All next to delete!)

Follow-Ups:

Date: 2008-Sep-03 17:57
By: jri

Comment:
I'm very sorry about your data loss.

For the moment I've no explanation for that. The escaping issue in DB queries (regarding quotes and so on) should be solved since we use prepared statements. Although the storage layer is not yet completely transformed to prepared statements, the statements in question (setting topic name and properties) are so. I checked it meanwhile.

Perhaps the problem originates from an overflow because of the quite long topic name. For the length of the topic name there is a limit of 255 charachters. Your offending text has 301 charachters. (BTW: there is virtually no limit for property values, but practically there is a 64K limit with the client/server scenario.) I'll investigate the problem and will fix this bug soon.

I guess you use the standalone DeepaMehta (as opposed to client/server) with HSQL-DB, Right?

Thank you very much for reporting this crucial bug. Future users will benefit substantially. Regarding you, nothing remains to me but repeating my deep excuse.

J&#246;rg

-------------------------------------------------------

Date: 2008-Sep-01 19:16
By: x28

Comment:
Since I don't know how to attach files here: this is the offendig text:

imagine if you will, an internet where you don&#146;t start your 
experience by &#147;googling.&#148;
<A HREF="http://www.petechen.com/wp/%3Fm%3D200807%26paged%3D2">http://www.petechen.com/wp/%3Fm%3D200807%26paged%3D2</A>

the who has always been a way to get at the what
<A HREF="http://www.downes.ca/cgi-bin/page.cgi?post=45723">http://www.downes.ca/cgi-bin/page.cgi?post=45723</A>
Twitter'S Move Towards Semantic Info and the Content Graph
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=14438&amp;group_id=5174">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=14438&amp;group_id=5174</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000252.html">[deepamehta-devel] Forum-Probleme mit Tomcat 6
</A></li>
	<LI>Next message: <A HREF="000255.html">[deepamehta-devel] [Feature #1513] Logging Subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#253">[ date ]</a>
              <a href="thread.html#253">[ thread ]</a>
              <a href="subject.html#253">[ subject ]</a>
              <a href="author.html#253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">More information about the deepamehta-devel
mailing list</a><br>
</body></html>
