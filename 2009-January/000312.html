<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [deepamehta-devel] PDF Topic Preview
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/deepamehta-devel/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:deepamehta-devel%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-devel%5D%20PDF%20Topic%20Preview&In-Reply-To=%3C496CA1B8.6090707%40deepamehta.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000311.html">
   <LINK REL="Next"  HREF="000310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[deepamehta-devel] PDF Topic Preview</H1>
    <B>Malte Rei&#223;ig</B> 
    <A HREF="mailto:deepamehta-devel%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-devel%5D%20PDF%20Topic%20Preview&In-Reply-To=%3C496CA1B8.6090707%40deepamehta.de%3E"
       TITLE="[deepamehta-devel] PDF Topic Preview">mre at deepamehta.de
       </A><BR>
    <I>Tue Jan 13 15:14:16 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000311.html">[deepamehta-devel] PDF Topic Preview
</A></li>
        <LI>Next message: <A HREF="000310.html">[deepamehta-devel] Tomcat und WebWiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#312">[ date ]</a>
              <a href="thread.html#312">[ thread ]</a>
              <a href="subject.html#312">[ subject ]</a>
              <a href="author.html#312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Enrico,

auch dir vielen Dank.
Ja ans Encoding hab ich auch nicht gedacht, ich probiers noch mal aus
und werde dann weiter berichten.

Danke schonmal!

Gru&#223; Malte

Enrico Schnepel wrote on 13.01.2009 09:05:
&gt;<i> Hallo Malte,
</I>&gt;<i>
</I>&gt;<i> da f&#228;llt mir nur ein, das byte != char ist. das hei&#223;t du kannst nicht
</I>&gt;<i> ein String nehmen und einfach getBytes aufrufen, denn dies liefert dir
</I>&gt;<i> nur die zu Bytes konvertierten Chars aus dem String. Wie immer gibt es
</I>&gt;<i> dabei Probleme mit dem Encoding. (Wer hat so etwas doofes wie Encoding
</I>&gt;<i> &#252;berhaupt erfunden? - Grrr! ;-) Wenn jeder UTF8 nehmen w&#252;rde, h&#228;tte
</I>&gt;<i> man nicht so viel Probleme!)
</I>&gt;<i> Du findest hier...
</I>&gt;<i> <A HREF="http://svn.apache.org/repos/asf/james/mime4j/trunk/src/main/java/org/apache/james/mime4j/decoder/">http://svn.apache.org/repos/asf/james/mime4j/trunk/src/main/java/org/apache/james/mime4j/decoder/</A>
</I>&gt;<i> einen Base64Input- und OutputStream. Damit kannst du auf jeden Fall
</I>&gt;<i> Bytes sicher zu Chars konvertieren und auch wieder zur&#252;ck.
</I>&gt;<i>
</I>&gt;<i> cu
</I>&gt;<i>
</I>&gt;<i> Enrico
</I>&gt;<i>
</I>&gt;<i> Malte Rei&#223;ig schrieb:
</I>&gt;<i> &gt; Hey Danny,
</I>&gt;<i>
</I>&gt;<i> &gt; ist ja super von dir zu h&#246;ren.
</I>&gt;<i> &gt; Momentan versuche ich folgendes, bin dank deines Hinweis auch wieder
</I>&gt;<i> &gt; weiter gekommen und habe beim dr&#252;berschauen noch Fehler bei mir
</I>&gt;<i> &gt; entdeckt. Jetzt denke ich, hakt es woanders. Ich erkl&#228;re es nochmal
</I>&gt;<i> &gt; kurz, wie wir uns das momentan gedacht haben.
</I>&gt;<i>
</I>&gt;<i> &gt; In DM werden ja alle Properties als String in der TopicProp Tabelle im
</I>&gt;<i> &gt; CM hinterlegt. Momentan schreibe ich also entweder
</I>&gt;<i>
</I>&gt;<i> &gt; 1) mittels eines BufferedReaders.readLine() den Inhalt der PDFFile in's
</I>&gt;<i> &gt; CM. Das scheint aber schon nicht korrekt zu funktionieren, denn wenn ich
</I>&gt;<i> &gt; diesen Wert aus der DB &quot;dumpe&quot; und in &quot;value.pdf&quot; speicher, ist diese
</I>&gt;<i> &gt; nicht mehr mit einem PDFViewer zu lesen. Ich kann mir hier aber auch
</I>&gt;<i> &gt; irgendwie nicht vorstellen das der InputStream durch die zwei Buffer und
</I>&gt;<i> &gt; der toString Methode korrumpiert werden sollte.
</I>&gt;<i>
</I>&gt;<i> &gt; 2) oder mittels DataInputStream, welcher mir bei dis.readUTF() immer
</I>&gt;<i> &gt; nach ein paar Bytes einlesen um die Ohren fliegt, mit der Meldung:
</I>&gt;<i> &gt; &quot;malformed input around byte 10&quot;
</I>&gt;<i>
</I>&gt;<i> &gt; Wenn ich jetzt diese Datei als String in der DB abspeichern will, m&#252;sste
</I>&gt;<i> &gt; ich wahrscheinlich die Bytes mittels readByte() lesen und immer zwei
</I>&gt;<i> &gt; Bytes von Hand in einen x-beliebigen String kodieren, damit h&#228;tte ich
</I>&gt;<i> &gt; dann die gleichen Bytes wieder mit text.getBytes()..
</I>&gt;<i>
</I>&gt;<i> &gt; zum pdf-renderers findet sich etwas mehr hier
</I>&gt;<i> &gt; <A HREF="https://pdf-renderer.dev.java.net/examples.html">https://pdf-renderer.dev.java.net/examples.html</A>
</I>&gt;<i>
</I>&gt;<i> &gt; Nur wenn ich den ByteBuffer wie folgt f&#252;lle, kann ich auch die PDFFile
</I>&gt;<i> &gt; korrekt erzeugen. Vielleicht verstehe ich auch hier etwas nicht ganz...
</I>&gt;<i>
</I>&gt;<i> &gt; RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);
</I>&gt;<i> &gt; FileChannel channel = raf.getChannel();
</I>&gt;<i> &gt; ByteBuffer buff = channel.map(FileChannel.MapMode.READ_ONLY, 0,
</I>&gt;<i> &gt; channel.size());
</I>&gt;<i> &gt; PDFFile pdffile = new PDFFile(buff);
</I>&gt;<i>
</I>&gt;<i> &gt; Die pdfTopic sourcen, k&#246;nnte ich dir irgendwie mal im Wiki hinterlassen,
</I>&gt;<i> &gt; dachte mir, das dass jetzt noch nicht so viel sinn hat. Zum testen
</I>&gt;<i> &gt; m&#252;sste ich dir eine kleine Anleitung schreiben und noch zwei
</I>&gt;<i> &gt; dm-source-files schicken. Aber ich dachte mir, vielleicht sieht man die
</I>&gt;<i> &gt; Fehler jetze schon.
</I>&gt;<i>
</I>&gt;<i> &gt; Danke und'nen fetten Gru&#223;!
</I>&gt;<i>
</I>&gt;<i> &gt; Malte
</I>&gt;<i>
</I>&gt;<i> &gt; Danny Gr&#228;f wrote on 11.01.2009 13:06:
</I>&gt;<i> &gt;&gt; Hallo Malte,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; bin in letzter Zeit mal wieder ein wenig OutOfOrder,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; funktioniert new String(&quot;bytefoo&quot;).getBytes() nicht oder was genau
</I>&gt;<i> &gt;&gt; versuchst Du da? Ansonsten kannst Du die Streams auch ohne den Umweg
</I>&gt;<i> &gt;&gt; &#252;ber String verbinden. W&#252;rde Dich da gern unterst&#252;tzen. Wie kann ich
</I>&gt;<i> &gt;&gt; auf die entsprechenden Sourcen bzw. Tests zugreifen?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Gru&#223; Danny
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; deepamehta-devel mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">deepamehta-devel at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">https://lists.berlios.de/mailman/listinfo/deepamehta-devel</A>
</I>&gt;<i>
</I>
_______________________________________________
deepamehta-devel mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">deepamehta-devel at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">https://lists.berlios.de/mailman/listinfo/deepamehta-devel</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000311.html">[deepamehta-devel] PDF Topic Preview
</A></li>
	<LI>Next message: <A HREF="000310.html">[deepamehta-devel] Tomcat und WebWiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#312">[ date ]</a>
              <a href="thread.html#312">[ thread ]</a>
              <a href="subject.html#312">[ subject ]</a>
              <a href="author.html#312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/deepamehta-devel">More information about the deepamehta-devel
mailing list</a><br>
</body></html>
